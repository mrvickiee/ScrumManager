{{% handler:TTHandler}}{{!

This is the mustache template file for the tap tracker example.

}}


<div class="callout large primary">
    <div class="row column text-center">
        <h1>Sprint Review Report</h1>
    </div>
</div>
{{#reviewReport}}
<div class="small-12 medium-12 large-12 columns">
    <strong>Created At: {{createdAt}}</strong>
</div>

<div class="row medium-8 large-7 columns">
    <div class="small-12 medium-12 large-12 columns">
        <strong>User Stories Completed</strong>
    </div>

    <div class="small-12 medium-12 large-12 columns">
    <ul style="margin-left:20px;">
            {{#userStoriesCompleted}}
            <li>{{userstory}}</li>
            {{/userStoriesCompleted}}
        </ul>
    </div>
</div>


<div class="row medium-8 large-7 columns">
    <div class="small-9 medium-9 large-9 columns"><strong>Task(s)</strong></div>
    <div class="small-3 medium-3 large-3 columns"><strong>Status</strong></div>
</div>
{{#tasks}}
<div class="row medium-8 large-7 columns">
    <div class="small-9 medium-9 large-9 columns">{{task}}</div>
    <div class="small-3 medium-3 large-3 columns">{{status }}</div>
</div>

{{/tasks}}

<h3>Comments</h3>
{{#commentList}}
{{#comment}}
{{#user}}
<div class="row medium-8 large-7 columns">
    <div class="large-12 columns">
        <div>

        </div>
        <div class="profile-pic-med avatar">{{initials}}</div>
        <div class="message large-10 columns">
            <strong>{{name}}</strong>

            <a onclick="editComment('{{commentIndicator}}{{initials}}', 'saveButton{{commentIndicator}}')" style="display:{{visibility}}">Edit</a>


            <a method="post" href="{{identifier}}_{{commentIndicator}}/delete" style="display:{{visibility}}">
                <i class="icon-trash"></i>
            </a>
            <br>
            <div id="{{commentIndicator}}{{initials}}" class="row large-10 columns">
                {{comment}}
            </div>
            <a style="display:none" id="saveButton{{commentIndicator}}" onclick="postEditComment('{{commentIndicator}}{{initials}}', 'saveButton{{commentIndicator}}', '{{identifier}}', '{{commentIndicator}}')">
            Post
            </a>
            <br>
        </div>
        <br>
    </div>
</div>

{{/user}}
{{/comment}}
{{/commentList}}

<form action="{{url}}/comments" method="post">
	<div class="row medium-8 large-7 columns">
		<div class="large-12 columns">
			<label>Comment
				<input type="text" name="comment" />
			</label>
		</div>
	</div>
	<input type="submit" value="Post">
</form>

{{/reviewReport}}

<script>
function editComment(a, b){
document.getElementById(a).setAttribute("contenteditable", "true");
document.getElementById(a).style.backgroundColor = "rgba(0,0,0,.2)";
document.getElementById(a).style.marginLeft = "4px";
document.getElementById(b).style.display = "block";
}

function postEditComment(commentColumn, saveButton, sprintID, commentIndicator){
var editComment = document.getElementById(commentColumn).innerHTML;
var path = sprintID+"_"+editComment+"_"+commentIndicator+"/edit";
document.getElementById(saveButton).href = path;

}
</script>